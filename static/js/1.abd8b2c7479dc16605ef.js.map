{"version":3,"sources":["webpack:///src/components/List/TabTit.vue","webpack:///./src/components/List/TabTit.vue?de2e","webpack:///./src/components/List/TabTit.vue","webpack:///src/components/List/AddGist.vue","webpack:///./src/components/List/AddGist.vue?8be4","webpack:///./src/components/List/AddGist.vue","webpack:///src/components/List/File.vue","webpack:///./src/components/List/File.vue?142a","webpack:///./src/components/List/File.vue"],"names":["TabTit","name","props","data","isHnputHover","note","editableTit","computed","deletable","this","item","deleted","filename","editable","oldname","addable","watch","repeatable","$message","error","mounted","_this","bus","$on","methods","showEditTit","changeWidth","deleteFiles","index","$set","$emit","changeTab","onNameChanged","$refs","inputWidth","style","width","widthName","clientWidth","List_TabTit","render","_vm","_h","$createElement","_c","_self","staticClass","class","hide","active","selected","directives","rawName","value","expression","on","click","$event","dblclick","_v","_s","ref","attrs","type","domProps","change","keyup","input","target","composing","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","AddGist","components","File","files","description","current","radioIndex","newFileIndex","disabled","hideDeleteIcon","length","deleteVisible","filter","hideLoad","hideDetails","push","content","arrFiles","i","undefined","addFile","onChangeTabHandle","onChangeTab","deleteFile","splice","changeDesc","saveGist","_this2","public","forEach","github_client","post","then","r","id","open","$router","path","query","catch","message","List_AddGist","placeholder","autosize","model","callback","$$v","label","_l","key","onchangeTab","size","editContent","item.content","Prism","highlightAll","highlightedContent","language","lang","toLowerCase","highlight","languages","e","contentHeight","$el","children","border","onEditContent","contentChanged","List_File","innerHTML","minRows"],"mappings":"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","file":"static/js/1.abd8b2c7479dc16605ef.js","sourcesContent":["<template>\n  <span\n      :class=\"{hide: item.deleted,active: selected === index}\"\n      class=\"tabTit\">\n      <span class=\"fileName\"\n            v-show=\"!editableTit\"\n            @click=\"changeTab(index)\"\n            @dblclick=\"showEditTit\">{{item.filename}}</span>\n      <span class=\"nameWidth\" ref=\"widthName\">{{item.filename}}</span>\n      <input\n        v-show=\"editableTit\"\n        @change=\"onNameChanged\"\n        @keyup=\"changeWidth\"\n        class=\"inputHover\"\n        v-model=\"item.filename\"\n        ref=\"inputWidth\"\n        type=\"text\"/>\n      <i class=\"el-icon-delete\" v-show=\"deleteVisible\" @click=\"deleteFiles(index)\"></i>\n    </span>\n</template>\n<script>\n  import bus from \"@/bus\";\n\n  export default {\n    name: \"TabTit\",\n    props: [\"item\", \"index\", \"selected\",\"deleteVisible\",\"repeatable\"],\n    data(){\n      return {\n        isHnputHover:false,\n        note:\"\",\n        editableTit:false\n      }\n    },\n    computed:{\n      deletable(){\n        return this.item.deleted && this.item.filename === \"\"\n      },\n      editable(){\n        return this.item.oldname !== this.item.filename\n      },\n      addable(){\n        return this.item.oldname === \"\"\n      }\n    },\n    watch:{\n      repeatable(){\n        if(this.repeatable){\n          this.$message.error('文件名字不能重复');\n        }\n      }\n    },\n    mounted(){\n      bus.$on(\"showEditName\",()=>{\n        this.editableTit = false;\n      });\n    },\n    methods: {\n      showEditTit(){\n        this.editableTit = true;\n        this.changeWidth();\n      },\n      deleteFiles(index){\n        this.$set(this.item, \"deleted\", true);\n        this.$set(this.item,\"filename\",\"\");\n        bus.$emit(\"onDeleteFiles\",index);\n      },\n      changeTab(index){\n        this.$emit(\"onchangeTab\",index);\n      },\n      onNameChanged(){\n        this.editableTit = false;\n        this.$set(this.item, \"editable\", true);\n        bus.$emit(\"onNameChangedHandle\",{\n          deletable:this.deletable,\n          editable:this.editable,\n        });\n//        filename是否重复\n        bus.$emit(\"repeatFilename\",this.item.filename);\n      },\n      changeWidth(){\n        this.$refs.inputWidth.style.width = this.$refs.widthName.clientWidth+20+\"px\";\n        console.log(this.$refs.widthName.clientWidth);\n      }\n    }\n  }\n</script>\n<style scoped>\n  .fileName{\n    padding: 0 10px;\n  }\n  .nameWidth{\n    position: absolute;\n    right:1000000px;\n    white-space: nowrap;\n  }\n  .tabTit{\n    position: relative;\n    margin-right: 10px;\n    height: 24px;\n    line-height: 24px;\n    padding: 0 20px 0 10px;\n  }\n  .active{\n    background-color: #fff;\n    border-radius: 4px 4px 0 0;\n  }\n  .active input\n  {\n    background-color: #fff;\n  }\n  .active .inputHover{\n    border:1px solid #ddd;\n    padding: 0 10px;\n  }\n  input {\n    background-color: #f5f5f5;\n    border:none;\n    border-radius:4px;\n    height: 18px;\n    line-height: 18px;\n    outline: none;\n    margin: 2px 10px 5px 0;\n    position: relative;\n  }\n  .el-icon-delete {\n    position: absolute;\n    top: 7px;\n    right: 10px;\n    font-size: 12px;\n    cursor: pointer;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/List/TabTit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tabTit\",class:{hide: _vm.item.deleted,active: _vm.selected === _vm.index}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editableTit),expression:\"!editableTit\"}],staticClass:\"fileName\",on:{\"click\":function($event){_vm.changeTab(_vm.index)},\"dblclick\":_vm.showEditTit}},[_vm._v(_vm._s(_vm.item.filename))]),_vm._v(\" \"),_c('span',{ref:\"widthName\",staticClass:\"nameWidth\"},[_vm._v(_vm._s(_vm.item.filename))]),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editableTit),expression:\"editableTit\"},{name:\"model\",rawName:\"v-model\",value:(_vm.item.filename),expression:\"item.filename\"}],ref:\"inputWidth\",staticClass:\"inputHover\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.item.filename)},on:{\"change\":_vm.onNameChanged,\"keyup\":_vm.changeWidth,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.item, \"filename\", $event.target.value)}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.deleteVisible),expression:\"deleteVisible\"}],staticClass:\"el-icon-delete\",on:{\"click\":function($event){_vm.deleteFiles(_vm.index)}}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-50bb3028\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/List/TabTit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50bb3028\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TabTit.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TabTit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TabTit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50bb3028\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TabTit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-50bb3028\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/List/TabTit.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"addForm\">\r\n    <div>\r\n      <el-input type=\"textarea\"\r\n                v-model=\"description\"\r\n                @change=\"changeDesc\"\r\n                placeholder=\"请输入详情描述\"\r\n                autosize></el-input>\r\n      <span>{{note}}</span>\r\n    </div>\r\n    <div class=\"height20\"></div>\r\n    <el-radio v-model=\"radioIndex\" label=\"1\">public</el-radio>\r\n    <el-radio v-model=\"radioIndex\" label=\"2\">secret</el-radio>\r\n    <div class=\"height20\"></div>\r\n    <div class=\"tab-tit clear\">\r\n      <TabTit class=\"fl\"\r\n              :item=\"item\"\r\n              :index=\"index\"\r\n              :selected=\"selected\"\r\n              :deleteVisible=\"deleteVisible\"\r\n              :repeatable=\"repeatable\"\r\n              v-for=\"(item,index) in files\"\r\n              :key=\"index\"\r\n              @onchangeTab=\"onChangeTabHandle(index)\">\r\n      </TabTit>\r\n      <span class=\"gistAdd fl\">\r\n            <i class=\"el-icon-circle-plus-outline\" @click=\"addFile\"></i>\r\n      </span>\r\n    </div>\r\n    <File\r\n      :item=\"item\"\r\n      :index=\"index\"\r\n      v-show=\"selected === index\"\r\n      :key=\"index\"\r\n      v-for=\"(item,index) in files\">\r\n    </File>\r\n    <div class=\"line20\"></div>\r\n    <div class=\"btn\">\r\n      <el-button type=\"primary\"\r\n                 size=\"medium\"\r\n                 v-show=\"addable\"\r\n                 :disabled=\"disabled\"\r\n                 @click=\"saveGist\">保存\r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import client from \"./../../js/github-client\"\r\n  import bus from '@/bus.js'\r\n  import TabTit from '@/components/List/TabTit'\r\n  import File from '@/components/List/File'\r\n\r\n  export default {\r\n    name: \"AddGist\",\r\n    components: {TabTit, File},\r\n    data(){\r\n      return {\r\n        files: [],\r\n        description: \"\",\r\n        note: \"\",\r\n        selected: 0,\r\n        current: 0,\r\n        radioIndex: \"1\",\r\n        newFileIndex: 2,\r\n        repeatable:false,\r\n        disabled:false,\r\n        addable:true\r\n      }\r\n    },\r\n    computed: {\r\n      hideDeleteIcon(){\r\n        return this.files && this.files.length === 1;\r\n      },\r\n      deleteVisible(){\r\n        return this.files.filter(item => !item.deleted).length > 1\r\n      }\r\n    },\r\n    mounted(){\r\n      bus.$on(\"hideGistDetails\",()=>{\r\n        this.hideLoad= true;\r\n        this.hideDetails= true;\r\n      });\r\n\r\n      this.files.push({\r\n        filename: \"file_1\",\r\n        content: \"\"\r\n      });\r\n      bus.$on(\"repeatFilename\",name=>{\r\n        if(this.files.filter(item=>item.filename === name).length>1){\r\n          this.repeatable = true;\r\n        }\r\n      });\r\n      bus.$on(\"onDeleteFiles\",(index)=>{\r\n//        this.$set(this.fileCRUD,\"deletable\",true);\r\n//        重新显示index\r\n        var arrFiles=this.files;\r\n        for(var i=0;i<arrFiles.length;i++){\r\n          if(arrFiles[i].deleted === undefined){\r\n            this.selected = i;\r\n            break;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    methods: {\r\n      addFile(){\r\n        this.addable = true;\r\n        var filename = \"file_\" + this.newFileIndex++;\r\n        this.files.push({\r\n          filename: filename,\r\n          content: \"\",\r\n        });\r\n        this.selected = this.files.length - 1;\r\n      },\r\n      onChangeTabHandle(index) {\r\n        this.selected = index;\r\n//        bus.$emit(\"changeContent\", index);\r\n      },\r\n      onChangeTab(index){\r\n        this.selected = index;\r\n      },\r\n      deleteFile(index){\r\n        if (index > 0) {\r\n          this.files.splice(index, 1);\r\n        }\r\n      },\r\n      changeDesc(){\r\n        if (this.description === \"\") {\r\n          this.note = \"详情描述不能为空\";\r\n          return;\r\n        } else {\r\n          this.note = \"\";\r\n        }\r\n      },\r\n      saveGist(){\r\n        if (this.description === \"\") {\r\n          this.note = \"详情描述不能为空\";\r\n          return;\r\n        } else {\r\n          this.note = \"\";\r\n        }\r\n        var data = {};\r\n        if (this.radioIndex === '1') {\r\n          data.public = true;\r\n        } else {\r\n          data.public = false;\r\n        }\r\n        data.description = this.description;\r\n        data.files = {};\r\n        this.files.filter(item=>!item.deleted).forEach((item) => {\r\n          data.files[item.filename] = {\r\n            content: item.content\r\n          }\r\n        })\r\n        console.log(data);\r\n        client.post(\"/gists\", data)\r\n          .then((r) => {\r\n            this.selected=0;\r\n            this.addable = false;\r\n            bus.$emit(\"changeEditContent\");\r\n            bus.$emit(\"addListGist\", {\r\n              id: r.data.id,\r\n              description: r.data.description,\r\n              public:r.data.public\r\n            });\r\n            this.open();\r\n            this.$router.push({ path: '/gists/gist', query: { id: r.data.id }});\r\n          })\r\n          .catch();\r\n      },\r\n      open(){\r\n        this.$message({\r\n          message: '恭喜你，添加成功',\r\n          type: 'success'\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .line20 {\r\n    height: 20px;\r\n  }\r\n\r\n  a:hover {\r\n    color: #409eff;\r\n  }\r\n  .gistAdd {\r\n    top: 5px;\r\n    font-weight: normal;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/List/AddGist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addForm\"},[_c('div',[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入详情描述\",\"autosize\":\"\"},on:{\"change\":_vm.changeDesc},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.note))])],1),_vm._v(\" \"),_c('div',{staticClass:\"height20\"}),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.radioIndex),callback:function ($$v) {_vm.radioIndex=$$v},expression:\"radioIndex\"}},[_vm._v(\"public\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\"},model:{value:(_vm.radioIndex),callback:function ($$v) {_vm.radioIndex=$$v},expression:\"radioIndex\"}},[_vm._v(\"secret\")]),_vm._v(\" \"),_c('div',{staticClass:\"height20\"}),_vm._v(\" \"),_c('div',{staticClass:\"tab-tit clear\"},[_vm._l((_vm.files),function(item,index){return _c('TabTit',{key:index,staticClass:\"fl\",attrs:{\"item\":item,\"index\":index,\"selected\":_vm.selected,\"deleteVisible\":_vm.deleteVisible,\"repeatable\":_vm.repeatable},on:{\"onchangeTab\":function($event){_vm.onChangeTabHandle(index)}}})}),_vm._v(\" \"),_c('span',{staticClass:\"gistAdd fl\"},[_c('i',{staticClass:\"el-icon-circle-plus-outline\",on:{\"click\":_vm.addFile}})])],2),_vm._v(\" \"),_vm._l((_vm.files),function(item,index){return _c('File',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected === index),expression:\"selected === index\"}],key:index,attrs:{\"item\":item,\"index\":index}})}),_vm._v(\" \"),_c('div',{staticClass:\"line20\"}),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addable),expression:\"addable\"}],attrs:{\"type\":\"primary\",\"size\":\"medium\",\"disabled\":_vm.disabled},on:{\"click\":_vm.saveGist}},[_vm._v(\"保存\\n    \")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ad9701b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/List/AddGist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5ad9701b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddGist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddGist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddGist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ad9701b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddGist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5ad9701b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/List/AddGist.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"preContent\">\r\n      <!--<pre>-->\r\n        <!--<code class=\"lang-php\" v-html=\"item.content\"></code>-->\r\n      <!--</pre>-->\r\n      <pre v-show=\"!editContent\" @dblclick=\"onEditContent\">\r\n        <div v-html=\"highlightedContent\" class=\"fileContent\"></div>\r\n      </pre>\r\n    <el-input ref=\"contentHeight\"\r\n      v-show=\"editContent\" type=\"textarea\"\r\n      v-model=\"item.content\"\r\n      @change=\"contentChanged(index)\"\r\n      :autosize=\"{ minRows: 20}\"\r\n      placeholder=\"请输入文件内容\">\r\n    </el-input>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import bus from '@/bus.js'\r\n\r\n  export default {\r\n    name: \"File\",\r\n    props:[\"item\",\"index\"],\r\n    data(){\r\n      return {\r\n        editContent:false\r\n      }\r\n    },\r\n    watch: {\r\n      \"item.content\": () => {\r\n//        console.log(Prism)\r\n        Prism.highlightAll();\r\n      }\r\n    },\r\n    computed: {\r\n      highlightedContent(){\r\n        if(this.item.content){\r\n          if (this.item.language) {\r\n            var lang = this.item.language.toLowerCase();\r\n            //plsql\r\n            // if(this.item.language.toLowerCase()===\"sql\"){\r\n            //   Prism.languages[this.item.language.toLowerCase()]=\"plsql\";\r\n            // }\r\n//            console.log(Prism.languages);\r\n            try {\r\n              return Prism.highlight(this.item.content, Prism.languages[lang],lang);\r\n            } catch (e) {\r\n              console.info(e);\r\n              return this.item.content;\r\n            }\r\n          } else {\r\n            return this.item.content;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n//        改textarea :focus 样式\r\n      this.$refs.contentHeight.$el.children[0].style.border=\"1px solid #dcdfe6\"\r\n      if(!this.item.content){\r\n        this.editContent = true;\r\n      }\r\n      bus.$on(\"changeEditContent\",()=>{\r\n        this.editContent = false;\r\n      });\r\n      bus.$on(\"changeContent\",()=>{\r\n          if(!this.item.content){\r\n            this.editContent = true;\r\n          }\r\n      });\r\n      bus.$on(\"showFileDetail\",()=>{\r\n        this.editContent = false;\r\n      });\r\n    },\r\n    methods: {\r\n      onEditContent(){\r\n        this.editContent = true;\r\n        bus.$emit(\"changeSave\");\r\n      },\r\n      contentChanged(index){\r\n        this.editContent = true;\r\n        this.$set(this.item, \"editable\", true);\r\n        bus.$emit(\"onContentChanged\",index);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .preContent{\r\n    padding: 20px;\r\n    background-color: #fff;\r\n    border-radius:4px 4px 0 0;\r\n  }\r\n  .fileContent{\r\n    white-space: pre-wrap;\r\n    word-break: break-all;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/List/File.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"preContent\"},[_c('pre',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editContent),expression:\"!editContent\"}],on:{\"dblclick\":_vm.onEditContent}},[_vm._v(\"      \"),_c('div',{staticClass:\"fileContent\",domProps:{\"innerHTML\":_vm._s(_vm.highlightedContent)}}),_vm._v(\"\\n    \")]),_vm._v(\" \"),_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editContent),expression:\"editContent\"}],ref:\"contentHeight\",attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 20},\"placeholder\":\"请输入文件内容\"},on:{\"change\":function($event){_vm.contentChanged(_vm.index)}},model:{value:(_vm.item.content),callback:function ($$v) {_vm.$set(_vm.item, \"content\", $$v)},expression:\"item.content\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b9887a2a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/List/File.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b9887a2a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./File.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./File.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./File.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b9887a2a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./File.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b9887a2a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/List/File.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}